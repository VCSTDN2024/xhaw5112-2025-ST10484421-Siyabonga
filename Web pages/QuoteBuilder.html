<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get a Quote - Empowering the Nation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="shared-header.css">
</head>
<body>
    <!-- Include shared header -->
    <div id="header-container"></div>

    <div class="page-container py-8">
        <div class="content-card max-w-2xl mx-auto">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold mb-2" style="color: var(--primary-blue-dark);">Get Your Quote</h1>
                <p class="text-lg text-gray-600">Select the courses you're interested in:</p>
            </div>
            
            <!-- Course Selection Section -->
            <div id="course-picker" class="grid md:grid-cols-3 gap-4 mb-8"></div>

            <!-- Summary and Details Section -->
            <div class="bg-white p-6 rounded-lg shadow-md mb-8 border-l-4" style="border-color: var(--gold);">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-lg text-gray-700">Courses Selected: <span id="course-count" class="font-bold">0</span></p>
                        <p class="text-sm text-gray-500">Select multiple courses for discounts</p>
                    </div>
                    <div class="text-right">
                        <p class="text-2xl font-bold" style="color: var(--gold);">R<span id="total-price">0.00</span></p>
                        <p class="text-sm text-gray-500">Total Amount</p>
                    </div>
                </div>
            </div>
        
            <h2 class="text-lg font-semibold text-gray-600 mb-2">Your Details</h2>
            <form id="quote-form" class="space-y-4">
                <input type="text" id="name" placeholder="Name" class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                <input type="email" id="email" placeholder="Email" class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                <button type="submit" class="w-full btn-gold py-3">Submit Quote Request</button>
            </form>
        </div>
    </div>

    <!-- Custom Modal for Alerts -->
    <div id="alert-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-sm text-center">
            <h3 id="alert-title" class="text-xl font-bold mb-2"></h3>
            <p id="alert-message" class="text-gray-700 mb-4"></p>
            <button id="alert-ok-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">OK</button>
        </div>
    </div>
    
    <script>
        const courses = [
            { id: 'first-aid', title: 'First Aid', fees: 1500, type: 'learnership', purpose: 'To equip individuals with essential life-saving skills.', content: ['Basic CPR ', 'Wound care', 'Responding to emergencies'] },
            { id: 'sewing', title: 'Sewing', fees: 1500, type: 'learnership', purpose: 'To develop practical sewing skills for personal use or business.', content: ['Machine operation', 'Basic garment construction', 'Fabric knowledge'] },
            { id: 'landscaping', title: 'Landscaping', fees: 1500, type: 'learnership', purpose: 'To teach principles of landscape design and maintenance.', content: ['Plant selection', 'Garden design', 'Lawn maintenance'] },
            { id: 'life-skills', title: 'Life Skills', fees: 1500, type: 'learnership', purpose: 'To empower individuals with practical skills for daily life and work.', content: ['Financial literacy', 'Communication skills', 'Problem-solving'] },
            { id: 'child-minding', title: 'Child Minding', fees: 750, type: 'short-course', purpose: 'To provide skills for safe and effective child care.', content: ['Child safety protocols', 'Age-appropriate activities', 'First aid basics'] },
            { id: 'cooking', title: 'Cooking', fees: 750, type: 'short-course', purpose: 'To teach basic cooking skills and kitchen hygiene.', content: ['Meal preparation', 'Food safety', 'Cooking techniques'] },
            { id: 'garden-maintenance', title: 'Garden Maintenance', fees: 750, type: 'short-course', purpose: 'To equip individuals with skills for garden upkeep.', content: ['Pruning and planting', 'Pest control', 'Water management'] }
        ];

        const coursePicker = document.getElementById('course-picker');
        const courseCountSpan = document.getElementById('course-count');
        const totalPriceSpan = document.getElementById('total-price');
        const quoteForm = document.getElementById('quote-form');
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');

        let selectedCourses = new Set();
        let totalPrice = 0;
        
        // Custom alert function to replace window.alert
        function showCustomAlert(title, message) {
            const modal = document.getElementById('alert-modal');
            document.getElementById('alert-title').textContent = title;
            document.getElementById('alert-message').textContent = message;
            modal.classList.remove('hidden');
        }

        document.getElementById('alert-ok-button').addEventListener('click', () => {
            document.getElementById('alert-modal').classList.add('hidden');
        });

        function updateSummary() {
            totalPrice = 0;
            selectedCourses.forEach(id => {
                const course = courses.find(c => c.id === id);
                if (course) {
                    totalPrice += course.fees;
                }
            });

            const courseCount = selectedCourses.size;
            let discount = 0;
            if (courseCount === 2) {
                discount = 0.05;
            } else if (courseCount === 3) {
                discount = 0.10;
            } else if (courseCount > 3) {
                discount = 0.15;
            }

            totalPrice *= (1 - discount);

            courseCountSpan.textContent = courseCount;
            totalPriceSpan.textContent = totalPrice.toFixed(2);
        }

        function renderCourses() {
            coursePicker.innerHTML = '';
            courses.forEach(course => {
                const isSelected = selectedCourses.has(course.id);
                const card = document.createElement('div');
                card.className = `flex flex-col p-4 rounded-lg transition-all cursor-pointer transform hover:-translate-y-1 ${
                    isSelected ? 'bg-white shadow-lg border-2 border-gold' : 'bg-white shadow border border-gray-200'
                }`;
                card.style.borderColor = isSelected ? 'var(--gold)' : '';
                card.innerHTML = `
                    <div class="mb-2">
                        <img src="../media/${course.id}.png" alt="${course.title}" 
                             class="w-full h-24 object-cover rounded-lg mb-3"
                             onerror="this.onerror=null;this.src='../media/logo.jpg'" />
                        <h3 class="text-lg font-semibold text-center ${
                            isSelected ? 'text-primary-blue-dark' : 'text-gray-700'
                        }">${course.title}</h3>
                    </div>
                    <div class="mt-auto text-center">
                        <p class="text-base font-bold ${
                            isSelected ? 'text-gold' : 'text-gray-600'
                        }" style="color: ${isSelected ? 'var(--gold)' : ''}">R${course.fees}</p>
                        <p class="text-xs uppercase tracking-wide ${
                            isSelected ? 'text-primary-blue' : 'text-gray-500'
                        }">${course.type}</p>
                    </div>
                `;
                card.addEventListener('click', () => {
                    if (selectedCourses.has(course.id)) {
                        selectedCourses.delete(course.id);
                    } else {
                        selectedCourses.add(course.id);
                    }
                    renderCourses();
                    updateSummary();
                });
                coursePicker.appendChild(card);
            });
        }

        quoteForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const name = nameInput.value;
            const email = emailInput.value;

            if (selectedCourses.size === 0 || !name || !email) {
                showCustomAlert('Incomplete Form', 'Please select at least one course and fill in your details.');
                return;
            }
            
            showCustomAlert('Quote Submitted', `Thank you, ${name}! Your quote for R${totalPrice.toFixed(2)} has been sent to ${email}.`);
            
            // Reset the form
            selectedCourses.clear();
            renderCourses();
            nameInput.value = '';
            emailInput.value = '';
            updateSummary();
        });

        // Load shared header and initialize
        window.onload = () => {
            fetch('shared-header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('header-container').innerHTML = html;
                    renderCourses();
                    updateSummary();
                });
        };
    </script>
        <div id="footer-container"></div>
        <script>
            // Load shared footer with fallback
            fetch('shared-footer.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('footer-container').innerHTML = html;
                })
                .catch(() => {
                    document.getElementById('footer-container').innerHTML = `
    <style>:root{ --primary-blue: #2563eb; } .site-footer{ background: rgba(255,255,255,0.95); border-top: 1px solid rgba(0,0,0,0.06); padding: 1rem 0; margin-top: 2rem; } .site-footer .social-icons a{ display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; color: rgba(0,0,0,0.85); transition: background-color 0.15s ease, transform 0.12s ease; text-decoration: none; } .site-footer .social-icons a:hover{ background: rgba(37,99,235,0.08); transform: translateY(-2px); color: var(--primary-blue); } .site-footer .social-icons svg{ width:20px; height:20px; display:block; fill:currentColor; stroke:none; } @media (max-width: 640px){ .site-footer .footer-inner{ flex-direction: column; gap: 0.75rem; align-items: center; } }</style>
    <footer class="site-footer"><div class="max-w-6xl mx-auto px-4 footer-inner flex items-center justify-between"><div class="text-sm text-gray-700">Â© 2025 Empowering the Nation</div><div class="flex items-center space-x-4 social-icons" aria-label="Social links"><a href="https://www.facebook.com/share/14Qm4aEndwB/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.16 8.44 9.93v-7.03H8.09v-2.9h2.35V9.41c0-2.33 1.38-3.61 3.5-3.61.99 0 2.03.18 2.03.18v2.23h-1.14c-1.12 0-1.47.7-1.47 1.42v1.71h2.5l-.4 2.9h-2.1V22C18.34 21.23 22 17.08 22 12.07z"/></svg></a><a href="https://x.com/empowering83378?t=h8k_neAcqymiogZmZnyK8Q&s=08" target="_blank" rel="noopener noreferrer" aria-label="X" title="X"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M21.36 5.27c.15-.95-.21-1.63-1.06-1.63-.49 0-1.02.17-1.66.51-1.35.66-2.64 1.03-3.87 1.12-1.19.09-2.17.05-2.95-.14-.82-.2-1.15-.6-1.15-1.22 0-.31.09-.66.27-1.06L9.4 2.03C9.14 2.01 8.82 2 8.47 2 6.92 2 5.88 3.03 5.88 4.62c0 1.06.49 1.84 1.46 2.36-.42 0-.95-.07-1.58-.21-.56-.12-1.15-.18-1.74-.18v.01c0 1.9 1.36 3.59 3.21 4.06-.41.11-.84.17-1.27.17-.31 0-.61-.03-.9-.09.62 2.01 2.44 3.47 4.59 3.51-1.68 1.32-3.8 2.11-6.07 2.11-.39 0-.77-.02-1.14-.07 2.23 1.46 4.88 2.31 7.73 2.31 9.24 0 14.3-7.67 14.3-14.32 0-.22 0-.44-.02-.65.98-.72 1.82-1.62 2.49-2.65z"/></svg></a><a href="https://www.instagram.com/3mpo.weringthenation?utm_source=qr&igsh=MW03MjBrN3o1Z2NuNQ==" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 6.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM18.5 6a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg></a></div></div></footer>`;
                });
        </script>
</body>
</html>
