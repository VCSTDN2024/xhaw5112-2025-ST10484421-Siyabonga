<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Details - Empowering the Nation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="shared-header.css">
</head>
<body>
    <!-- Include shared header -->
    <div id="header-container"></div>

    <div class="page-container flex items-center justify-center min-h-[80vh] py-8">
        <div id="details-container" class="content-card w-full max-w-2xl mx-4">
            
        </div>
    </div>

    <script>
        const courses = [
            { id: 'first-aid', title: 'First Aid', fees: 1500, type: 'learnership', purpose: 'To equip individuals with essential life-saving skills.', content: ['Basic CPR ', 'Wound care', 'Responding to emergencies'] },
            { id: 'sewing', title: 'Sewing', fees: 1500, type: 'learnership', purpose: 'To develop practical sewing skills for personal use or business.', content: ['Machine operation', 'Basic garment construction', 'Fabric knowledge'] },
            { id: 'landscaping', title: 'Landscaping', fees: 1500, type: 'learnership', purpose: 'To teach principles of landscape design and maintenance.', content: ['Plant selection', 'Garden design', 'Lawn maintenance'] },
            { id: 'life-skills', title: 'Life Skills', fees: 1500, type: 'learnership', purpose: 'To empower individuals with practical skills for daily life and work.', content: ['Financial literacy', 'Communication skills', 'Problem-solving'] },
            { id: 'child-minding', title: 'Child Minding', fees: 750, type: 'short-course', purpose: 'To provide skills for safe and effective child care.', content: ['Child safety protocols', 'Age-appropriate activities', 'First aid basics'] },
            { id: 'cooking', title: 'Cooking', fees: 750, type: 'short-course', purpose: 'To teach basic cooking skills and kitchen hygiene.', content: ['Meal preparation', 'Food safety', 'Cooking techniques'] },
            { id: 'garden-maintenance', title: 'Garden Maintenance', fees: 750, type: 'short-course', purpose: 'To equip individuals with skills for garden upkeep.', content: ['Pruning and planting', 'Pest control', 'Water management'] }
        ];

        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        function renderCourseDetails() {
            const courseId = getUrlParameter('id');
            const course = courses.find(c => c.id === courseId);
            const container = document.getElementById('details-container');

            if (!course) {
                container.innerHTML = `<h1 class="text-xl text-red-500 font-bold">Course not found.</h1>`;
                return;
            }

            let contentList = '';
            course.content.forEach(item => {
                contentList += `<li class="text-gray-700">${item}</li>`;
            });

            // show course image from ../media/<course.id>.png; try .png -> .jpg -> logo.jpg
            const imgSrc = `../media/${course.id}.png`;
            console.log('Course details render:', course.id, imgSrc);

            container.innerHTML = `
                <img src="${imgSrc}" alt="${course.title}" class="w-full h-72 object-cover rounded-lg mb-6" loading="lazy"
                     onerror="if(this.dataset.tried){this.onerror=null;this.src='../media/logo.jpg'}else{this.dataset.tried='1';this.src='../media/${course.id}.jpg'}" />
                
                <div class="flex items-center justify-between mb-6">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-800 mb-2">${course.title}</h1>
                        <p class="text-sm uppercase tracking-wider" style="color: var(--primary-blue);">${course.type}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-2xl font-bold" style="color: var(--gold);">R${course.fees}</p>
                        <p class="text-sm text-gray-600">Course Fee</p>
                    </div>
                </div>
                
                <div class="mb-8">
                    <h2 class="text-xl font-bold mb-3" style="color: var(--primary-blue-dark);">Purpose</h2>
                    <p class="text-lg text-gray-700 leading-relaxed">${course.purpose}</p>
                </div>

                <div>
                    <h2 class="text-xl font-bold mb-3" style="color: var(--primary-blue-dark);">Course Content</h2>
                    <ul class="grid gap-3 mb-8">${contentList.split('</li>').map(item => 
                        item.replace('<li class="text-gray-700">', '')
                    ).filter(Boolean).map(item => 
                        `<li class="flex items-center gap-2 text-lg text-gray-700">
                            <svg class="w-5 h-5 flex-shrink-0" style="color: var(--gold);" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                            </svg>${item}
                        </li>`
                    ).join('')}</ul>
                </div>

                <div class="flex gap-4 mt-8">
                    <a href="Home.html" class="flex-1 btn-auth text-center py-3">Back to Courses</a>
                    <a href="QuoteBuilder.html?course=${course.id}" class="flex-1 btn-gold text-center py-3">Get Quote</a>
                </div>
            `;
        }

        window.onload = () => {
            // Load shared header
            fetch('shared-header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('header-container').innerHTML = html;
                    renderCourseDetails();
                });

            // Load shared footer
            (function(){
                const footerContainer = document.createElement('div');
                footerContainer.id = 'footer-container';
                document.body.appendChild(footerContainer);
                fetch('shared-footer.html')
                    .then(r => r.text())
                    .then(html => { document.getElementById('footer-container').innerHTML = html; })
                    .catch(() => {
                        document.getElementById('footer-container').innerHTML = `
<style>:root{ --primary-blue: #2563eb; } .site-footer{ background: rgba(255,255,255,0.95); border-top: 1px solid rgba(0,0,0,0.06); padding: 1rem 0; margin-top: 2rem; } .site-footer .social-icons a{ display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; color: rgba(0,0,0,0.85); transition: background-color 0.15s ease, transform 0.12s ease; text-decoration: none; } .site-footer .social-icons a:hover{ background: rgba(37,99,235,0.08); transform: translateY(-2px); color: var(--primary-blue); } .site-footer .social-icons svg{ width:20px; height:20px; display:block; fill:currentColor; stroke:none; } @media (max-width: 640px){ .site-footer .footer-inner{ flex-direction: column; gap: 0.75rem; align-items: center; } }</style>
<footer class="site-footer"><div class="max-w-6xl mx-auto px-4 footer-inner flex items-center justify-between"><div class="text-sm text-gray-700">Â© 2025 Empowering the Nation</div><div class="flex items-center space-x-4 social-icons" aria-label="Social links"><a href="https://www.facebook.com/share/14Qm4aEndwB/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.16 8.44 9.93v-7.03H8.09v-2.9h2.35V9.41c0-2.33 1.38-3.61 3.5-3.61.99 0 2.03.18 2.03.18v2.23h-1.14c-1.12 0-1.47.7-1.47 1.42v1.71h2.5l-.4 2.9h-2.1V22C18.34 21.23 22 17.08 22 12.07z"/></svg></a><a href="https://x.com/empowering83378?t=h8k_neAcqymiogZmZnyK8Q&s=08" target="_blank" rel="noopener noreferrer" aria-label="X" title="X"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M21.36 5.27c.15-.95-.21-1.63-1.06-1.63-.49 0-1.02.17-1.66.51-1.35.66-2.64 1.03-3.87 1.12-1.19.09-2.17.05-2.95-.14-.82-.2-1.15-.6-1.15-1.22 0-.31.09-.66.27-1.06L9.4 2.03C9.14 2.01 8.82 2 8.47 2 6.92 2 5.88 3.03 5.88 4.62c0 1.06.49 1.84 1.46 2.36-.42 0-.95-.07-1.58-.21-.56-.12-1.15-.18-1.74-.18v.01c0 1.9 1.36 3.59 3.21 4.06-.41.11-.84.17-1.27.17-.31 0-.61-.03-.9-.09.62 2.01 2.44 3.47 4.59 3.51-1.68 1.32-3.8 2.11-6.07 2.11-.39 0-.77-.02-1.14-.07 2.23 1.46 4.88 2.31 7.73 2.31 9.24 0 14.3-7.67 14.3-14.32 0-.22 0-.44-.02-.65.98-.72 1.82-1.62 2.49-2.65z"/></svg></a><a href="https://www.instagram.com/3mpo.weringthenation?utm_source=qr&igsh=MW03MjBrN3o1Z2NuNQ==" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 6.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM18.5 6a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg></a></div></div></footer>`;
                    });
            })();
        };
    </script>
</body>
</html>
