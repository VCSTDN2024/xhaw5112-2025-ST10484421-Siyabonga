<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Empowering the Nation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="shared-header.css">
</head>
<body>
    <!-- Include shared header -->
    <div id="header-container"></div>

    <div class="page-container">
        <div class="content-card max-w-xl mx-auto">
            <div class="flex flex-col items-center mb-8">
                <img src="../media/logo.jpg" alt="logo" class="h-16 w-16 rounded-full object-cover mb-4" />
                <h1 class="text-3xl font-bold mb-2" style="color: var(--primary-blue-dark);">Join Our Learning Community</h1>
                <p class="text-gray-600 text-center max-w-md">Create your account to enroll in courses, track your progress, and connect with instructors</p>
            </div>
            
            <form id="registration-form" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="name" placeholder="Enter your full name" 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue" required>
                    </div>
                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="phone" placeholder="Enter phone number" 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue" required>
                    </div>
                </div>

                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="email" placeholder="Enter your email" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-blue" required>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">I am registering as a:</label>
                    <div id="role-container" class="grid grid-cols-2 md:grid-cols-4 gap-3"></div>
                </div>

                <div id="course-interests" class="hidden">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Interested in these courses:</label>
                    <div id="courses-container" class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50">
                            <input type="checkbox" name="courses" value="first-aid" class="text-primary-blue">
                            <span>First Aid</span>
                        </label>
                        <label class="flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50">
                            <input type="checkbox" name="courses" value="sewing" class="text-primary-blue">
                            <span>Sewing</span>
                        </label>
                        <label class="flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50">
                            <input type="checkbox" name="courses" value="landscaping" class="text-primary-blue">
                            <span>Landscaping</span>
                        </label>
                        <label class="flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50">
                            <input type="checkbox" name="courses" value="life-skills" class="text-primary-blue">
                            <span>Life Skills</span>
                        </label>
                        <label class="flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50">
                            <input type="checkbox" name="courses" value="child-minding" class="text-primary-blue">
                            <span>Child Minding</span>
                        </label>
                        <label class="flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50">
                            <input type="checkbox" name="courses" value="cooking" class="text-primary-blue">
                            <span>Cooking</span>
                        </label>
                    </div>
                </div>

                <div class="flex flex-col gap-4 mt-8">
                    <button type="submit" class="w-full btn-gold py-3">Create Account</button>
                    <p class="text-center text-gray-600">Already have an account? 
                        <a href="login.html" class="font-semibold hover:underline" style="color: var(--primary-blue);">Log in here</a>
                    </p>
                </div>
            </form>
            
            <h2 class="text-xl font-bold text-gray-800 text-center mt-8 mb-4">Registered Users</h2>
            <div id="user-list" class="space-y-3"></div>
        </div>
    </div>

    <!-- Custom Modal for Alerts -->
    <div id="alert-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-sm text-center">
            <h3 id="alert-title" class="text-xl font-bold mb-2"></h3>
            <p id="alert-message" class="text-gray-700 mb-4"></p>
            <button id="alert-ok-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">OK</button>
        </div>
    </div>

    <script>
        const roles = [
            { id: 'learner', name: 'LEARNER', description: 'Looking to enroll in courses' },
            { id: 'instructor', name: 'INSTRUCTOR', description: 'Teaching courses' },
            { id: 'facilitator', name: 'FACILITATOR', description: 'Supporting learners' },
            { id: 'admin', name: 'ADMINISTRATOR', description: 'Managing programs' }
        ];

        let registeredUsers = [];
        let selectedRole = null;
        const registrationForm = document.getElementById('registration-form');
        const roleContainer = document.getElementById('role-container');
        const userList = document.getElementById('user-list');

        // Custom alert function to replace window.alert
        function showCustomAlert(title, message) {
            const modal = document.getElementById('alert-modal');
            document.getElementById('alert-title').textContent = title;
            document.getElementById('alert-message').textContent = message;
            modal.classList.remove('hidden');
        }

        document.getElementById('alert-ok-button').addEventListener('click', () => {
            document.getElementById('alert-modal').classList.add('hidden');
        });
        
        function renderRoles() {
            roleContainer.innerHTML = '';
            roles.forEach(role => {
                const button = document.createElement('button');
                button.type = 'button';
                button.className = `p-4 rounded-lg border transition-all ${
                    selectedRole === role.id 
                        ? 'border-2 border-gold bg-white shadow-md' 
                        : 'border-gray-200 bg-gray-50 hover:bg-white'
                }`;
                button.innerHTML = `
                    <h3 class="font-bold mb-1 ${
                        selectedRole === role.id ? 'text-primary-blue' : 'text-gray-700'
                    }">${role.name}</h3>
                    <p class="text-sm text-gray-500">${role.description}</p>
                `;
                button.addEventListener('click', () => {
                    selectedRole = role.id;
                    renderRoles();
                    // Show course interests section only for learners
                    const courseInterests = document.getElementById('course-interests');
                    courseInterests.style.display = role.id === 'learner' ? 'block' : 'none';
                });
                roleContainer.appendChild(button);
            });
        }

        function renderUsers() {
            userList.innerHTML = '';
            registeredUsers.forEach(user => {
                const userItem = document.createElement('div');
                userItem.className = 'bg-gray-50 p-4 rounded-lg shadow-sm border border-gray-200 flex justify-between items-center';
                userItem.innerHTML = `
                    <div>
                        <p class="text-sm font-semibold text-gray-800">${user.name}</p>
                        <p class="text-xs text-gray-500">${user.email}</p>
                    </div>
                    <p class="text-xs font-bold text-blue-500 uppercase">${user.role}</p>
                `;
                userList.appendChild(userItem);
            });
        }

        registrationForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;

            if (!name || !email || !phone || !selectedRole) {
                showCustomAlert('Incomplete Form', 'Please fill out all fields and select your role.');
                return;
            }

            const selectedCourses = selectedRole === 'learner' 
                ? Array.from(document.querySelectorAll('input[name="courses"]:checked'))
                    .map(checkbox => checkbox.value)
                : [];

            if (selectedRole === 'learner' && selectedCourses.length === 0) {
                showCustomAlert('Course Selection Required', 'Please select at least one course you\'re interested in.');
                return;
            }

            const newUser = {
                id: Date.now(),
                name,
                email,
                phone,
                role: roles.find(r => r.id === selectedRole).name,
                courses: selectedCourses
            };

            registeredUsers.push(newUser);
            
            showCustomAlert(
                'Registration Successful', 
                `Welcome to Empowering the Nation, ${name}! ${
                    selectedRole === 'learner' 
                        ? 'We\'ll contact you shortly about your selected courses.' 
                        : 'Your account will be reviewed and activated soon.'
                }`
            );
            
            // Reset form
            registrationForm.reset();
            selectedRole = null;
            document.getElementById('course-interests').style.display = 'none';
            renderRoles();
            renderUsers();
        });

        window.onload = renderRoles;
    </script>

    <script>
        // Load shared header
        fetch('shared-header.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('header-container').innerHTML = html;
            });
    </script>
    <div id="footer-container"></div>
    <script>
        // Load shared footer with fallback
        fetch('shared-footer.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('footer-container').innerHTML = html;
            })
            .catch(() => {
                document.getElementById('footer-container').innerHTML = `
<style>:root{ --primary-blue: #2563eb; } .site-footer{ background: rgba(255,255,255,0.95); border-top: 1px solid rgba(0,0,0,0.06); padding: 1rem 0; margin-top: 2rem; } .site-footer .social-icons a{ display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; color: rgba(0,0,0,0.85); transition: background-color 0.15s ease, transform 0.12s ease; text-decoration: none; } .site-footer .social-icons a:hover{ background: rgba(37,99,235,0.08); transform: translateY(-2px); color: var(--primary-blue); } .site-footer .social-icons svg{ width:20px; height:20px; display:block; fill:currentColor; stroke:none; } @media (max-width: 640px){ .site-footer .footer-inner{ flex-direction: column; gap: 0.75rem; align-items: center; } }</style>
<footer class="site-footer"><div class="max-w-6xl mx-auto px-4 footer-inner flex items-center justify-between"><div class="text-sm text-gray-700">Â© 2025 Empowering the Nation</div><div class="flex items-center space-x-4 social-icons" aria-label="Social links"><a href="https://www.facebook.com/share/14Qm4aEndwB/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.16 8.44 9.93v-7.03H8.09v-2.9h2.35V9.41c0-2.33 1.38-3.61 3.5-3.61.99 0 2.03.18 2.03.18v2.23h-1.14c-1.12 0-1.47.7-1.47 1.42v1.71h2.5l-.4 2.9h-2.1V22C18.34 21.23 22 17.08 22 12.07z"/></svg></a><a href="https://x.com/empowering83378?t=h8k_neAcqymiogZmZnyK8Q&s=08" target="_blank" rel="noopener noreferrer" aria-label="X" title="X"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M21.36 5.27c.15-.95-.21-1.63-1.06-1.63-.49 0-1.02.17-1.66.51-1.35.66-2.64 1.03-3.87 1.12-1.19.09-2.17.05-2.95-.14-.82-.2-1.15-.6-1.15-1.22 0-.31.09-.66.27-1.06L9.4 2.03C9.14 2.01 8.82 2 8.47 2 6.92 2 5.88 3.03 5.88 4.62c0 1.06.49 1.84 1.46 2.36-.42 0-.95-.07-1.58-.21-.56-.12-1.15-.18-1.74-.18v.01c0 1.9 1.36 3.59 3.21 4.06-.41.11-.84.17-1.27.17-.31 0-.61-.03-.9-.09.62 2.01 2.44 3.47 4.59 3.51-1.68 1.32-3.8 2.11-6.07 2.11-.39 0-.77-.02-1.14-.07 2.23 1.46 4.88 2.31 7.73 2.31 9.24 0 14.3-7.67 14.3-14.32 0-.22 0-.44-.02-.65.98-.72 1.82-1.62 2.49-2.65z"/></svg></a><a href="https://www.instagram.com/3mpo.weringthenation?utm_source=qr&igsh=MW03MjBrN3o1Z2NuNQ==" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram"><svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 6.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM18.5 6a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg></a></div></div></footer>`;
            });
    </script>
</body>
</html>
